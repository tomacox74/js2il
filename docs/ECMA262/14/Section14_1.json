{
  "$schema": "../SectionDoc.schema.json",
  "clause": "14.1",
  "title": "Statement Semantics",
  "status": "Supported with Limitations",
  "specUrl": "https://tc39.es/ecma262/#sec-statement-semantics",
  "parent": {
    "clause": "14"
  },
  "intro": "JS2IL supports most common statement forms (control flow, loops, switch, try/catch/finally, throw/return) but rejects some statement types in the validator and has known semantic gaps (notably iterator-protocol fidelity for general `for..of`).",
  "autoGeneratedHeader": true,
  "subclauses": [
    {
      "clause": "14.1.1",
      "title": "Runtime Semantics: Evaluation",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-statement-semantics-runtime-semantics-evaluation"
    }
  ],
  "support": {
    "entries": [
      {
        "clause": "14.1.1",
        "feature": "return statement (basic)",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-return-statement",
        "testScripts": [
          "Js2IL.Tests/Function/JavaScript/Function_ReturnsStaticValueAndLogs.js"
        ],
        "notes": "Return values propagate to callers (boxed as object); validated by execution snapshot." 
      },
      {
        "clause": "14.1.1",
        "feature": "if statement (truthiness)",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-if-statement",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_If_Truthiness.js"
        ]
      },
      {
        "clause": "14.1.1",
        "feature": "iteration statements: for/while/do-while (basic)",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-iteration-statements",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForLoop_CountToFive.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_While_CountDownFromFive.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_DoWhile_CountUp_AtLeastOnce.js"
        ]
      },
      {
        "clause": "14.1.1",
        "feature": "break/continue (including labeled)",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-break-statement",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForLoop_Break_AtThree.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForLoop_Continue_SkipEven.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForLoop_LabeledBreak.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForLoop_LabeledContinue.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_While_LabeledBreak.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_While_LabeledContinue.js"
        ],
        "notes": "Covers non-local control flow across nested loops via labels."
      },
      {
        "clause": "14.1.1",
        "feature": "switch statement (fallthrough, nested)",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-switch-statement",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_Switch_Fallthrough.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_Switch_NestedBreak.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_Switch_DefaultInMiddle_Fallthrough.js"
        ]
      },
      {
        "clause": "14.1.1",
        "feature": "try/catch/finally + throw (basic)",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-try-statement",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_TryCatch_ScopedParam.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_TryCatchFinally_ThrowValue.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_TryFinally_Return.js"
        ]
      },
      {
        "clause": "14.1.1",
        "feature": "for..in statement (object key enumeration)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-for-in-and-for-of-statements",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForIn_Object_Basic.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForIn_LabeledBreak.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForIn_LabeledContinue.js"
        ],
        "notes": "Implemented via runtime key enumeration helpers; edge-case fidelity (e.g., exotic objects / exact ordering semantics) is not exhaustively validated."
      },
      {
        "clause": "14.1.1",
        "feature": "for..of statement (arrays)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-for-in-and-for-of-statements",
        "testScripts": [
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForOf_Array_Basic.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForOf_Break.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForOf_LabeledBreak.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForOf_LabeledContinue.js"
        ],
        "notes": "Lowered using array-like normalization + index/length loop; does not implement full iterator-protocol semantics for arbitrary iterables."
      },
      {
        "clause": "14.1.1",
        "feature": "with statement",
        "status": "Not Yet Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-with-statement",
        "notes": "Explicitly rejected by the AST validator."
      },
      {
        "clause": "14.1.1",
        "feature": "debugger statement",
        "status": "Not Yet Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-debugger-statement",
        "notes": "Explicitly rejected by the AST validator."
      },
      {
        "clause": "14.1.1",
        "feature": "for await..of statement",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-for-in-and-for-of-statements",
        "testScripts": [
          "Js2IL.Tests/Async/JavaScript/Async_ForAwaitOf_Array.js",
          "Js2IL.Tests/Async/JavaScript/Async_ForAwaitOf_AsyncIterator_BreakCloses.js",
          "Js2IL.Tests/Async/JavaScript/Async_ForAwaitOf_SyncIteratorFallback_BreakCloses.js"
        ],
        "notes": "Supported within async functions. Lowered using the async iterator protocol (GetAsyncIterator/AsyncIteratorNext/AsyncIteratorClose)."
      }
    ]
  }
}
