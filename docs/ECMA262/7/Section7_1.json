{
  "$schema": "../SectionDoc.schema.json",
  "clause": "7.1",
  "title": "Type Conversion",
  "status": "Incomplete",
  "specUrl": "https://tc39.es/ecma262/#sec-type-conversion",
  "parent": {
    "clause": "7"
  },
  "intro": "Type conversion in JS2IL is implemented on an as-needed basis for supported language features and intrinsics. Some conversions are partial/minimal implementations intended to support specific call sites (e.g., BigInt(value)).",
  "autoGeneratedHeader": true,
  "subclauses": [
    {
      "clause": "7.1.1",
      "title": "ToPrimitive ( input [ , preferredType ] )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-toprimitive"
    },
    {
      "clause": "7.1.1.1",
      "title": "OrdinaryToPrimitive ( O , hint )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-ordinarytoprimitive"
    },
    {
      "clause": "7.1.2",
      "title": "ToBoolean ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-toboolean"
    },
    {
      "clause": "7.1.3",
      "title": "ToNumeric ( value )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tonumeric"
    },
    {
      "clause": "7.1.4",
      "title": "ToNumber ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tonumber"
    },
    {
      "clause": "7.1.4.1",
      "title": "ToNumber Applied to the String Type",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tonumber-applied-to-the-string-type"
    },
    {
      "clause": "7.1.4.1.1",
      "title": "StringToNumber ( str )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-stringtonumber"
    },
    {
      "clause": "7.1.4.1.2",
      "title": "Runtime Semantics: StringNumericValue",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-runtime-semantics-stringnumericvalue"
    },
    {
      "clause": "7.1.4.1.3",
      "title": "RoundMVResult ( n )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-roundmvresult"
    },
    {
      "clause": "7.1.5",
      "title": "ToIntegerOrInfinity ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tointegerorinfinity"
    },
    {
      "clause": "7.1.6",
      "title": "ToInt32 ( argument )",
      "status": "Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-toint32"
    },
    {
      "clause": "7.1.7",
      "title": "ToUint32 ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-touint32"
    },
    {
      "clause": "7.1.8",
      "title": "ToInt16 ( argument )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-toint16"
    },
    {
      "clause": "7.1.9",
      "title": "ToUint16 ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-touint16"
    },
    {
      "clause": "7.1.10",
      "title": "ToInt8 ( argument )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-toint8"
    },
    {
      "clause": "7.1.11",
      "title": "ToUint8 ( argument )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-touint8"
    },
    {
      "clause": "7.1.12",
      "title": "ToUint8Clamp ( argument )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-touint8clamp"
    },
    {
      "clause": "7.1.13",
      "title": "ToBigInt ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tobigint"
    },
    {
      "clause": "7.1.14",
      "title": "StringToBigInt ( str )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-stringtobigint"
    },
    {
      "clause": "7.1.14.1",
      "title": "StringIntegerLiteral Grammar",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-stringintegerliteral-grammar"
    },
    {
      "clause": "7.1.14.2",
      "title": "Runtime Semantics: MV",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-runtime-semantics-mv-for-stringintegerliteral"
    },
    {
      "clause": "7.1.15",
      "title": "ToBigInt64 ( argument )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-tobigint64"
    },
    {
      "clause": "7.1.16",
      "title": "ToBigUint64 ( argument )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-tobiguint64"
    },
    {
      "clause": "7.1.17",
      "title": "ToString ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tostring"
    },
    {
      "clause": "7.1.18",
      "title": "ToObject ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-toobject"
    },
    {
      "clause": "7.1.19",
      "title": "ToPropertyKey ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-topropertykey"
    },
    {
      "clause": "7.1.20",
      "title": "ToLength ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-tolength"
    },
    {
      "clause": "7.1.21",
      "title": "CanonicalNumericIndexString ( argument )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-canonicalnumericindexstring"
    },
    {
      "clause": "7.1.22",
      "title": "ToIndex ( value )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-toindex"
    }
  ],
  "support": {
    "entries": [
      {
        "clause": "7.1.2",
        "feature": "ToBoolean coercion (truthiness)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-toboolean",
        "testScripts": [
          "Js2IL.Tests/PrimitiveConversion/JavaScript/PrimitiveConversion_Boolean_Callable.js",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_If_Truthiness.js"
        ],
        "notes": "Implements core truthiness for primitives, null/undefined, BigInt, and objects via TypeUtilities.ToBoolean; host-specific edge cases are not modeled."
      },
      {
        "clause": "7.1.4",
        "feature": "ToNumber coercion",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-tonumber",
        "testScripts": [
          "Js2IL.Tests/PrimitiveConversion/JavaScript/PrimitiveConversion_Number_Callable.js",
          "Js2IL.Tests/IntrinsicCallables/JavaScript/IntrinsicCallables_ParseFloat_IsFinite_Basic.js"
        ],
        "notes": "Supports common primitive conversions including trimmed decimal/hex strings, booleans, null, and undefined; does not implement full StringNumericLiteral grammar parity."
      },
      {
        "clause": "7.1.6",
        "feature": "ToInt32 coercion",
        "status": "Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-toint32",
        "testScripts": [
          "Js2IL.Tests/TypedArray/JavaScript/Int32Array_Wrapping_Semantics.js"
        ],
        "notes": "Implements modulo-2^32 wrapping and signed interpretation used by bitwise and typed-array paths."
      },
      {
        "clause": "7.1.7",
        "feature": "ToUint32 coercion in unsigned-shift paths",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-touint32",
        "testScripts": [
          "Js2IL.Tests/BinaryOperator/JavaScript/BinaryOperator_UnsignedRightShiftNumberNumber.js"
        ],
        "notes": "Implemented where required by >>> semantics; not exposed as a standalone abstract-operation helper."
      },
      {
        "clause": "7.1.9",
        "feature": "ToUint16 coercion for String.fromCharCode",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-touint16",
        "testScripts": [
          "Js2IL.Tests/Array/JavaScript/Array_Slice_FromCharCode_Apply.js"
        ],
        "notes": "Applies ToUint16-style truncation/masking for fromCharCode arguments."
      },
      {
        "clause": "7.1.13",
        "feature": "ToBigInt (minimal, via BigInt(value))",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-tobigint",
        "testScripts": [
          "Js2IL.Tests/IntrinsicCallables/JavaScript/IntrinsicCallables_BigInt_Callable_Basic.js"
        ],
        "notes": "Implemented to support current BigInt(value) callable behavior; full spec conversion precedence and all edge cases are not yet implemented."
      },
      {
        "clause": "7.1.14",
        "feature": "StringToBigInt (minimal decimal parsing)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-stringtobigint",
        "testScripts": [
          "Js2IL.Tests/IntrinsicCallables/JavaScript/IntrinsicCallables_BigInt_Callable_Basic.js"
        ],
        "notes": "Supports basic decimal string parsing used by BigInt(value), but does not yet implement the full StringIntegerLiteral grammar variants."
      },
      {
        "clause": "7.1.17",
        "feature": "ToString coercion",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-tostring",
        "testScripts": [
          "Js2IL.Tests/PrimitiveConversion/JavaScript/PrimitiveConversion_String_Callable.js"
        ],
        "notes": "Covers primitives, arrays, and common object conversion through DotNet2JSConversions; full @@toPrimitive/valueOf precedence is incomplete."
      },
      {
        "clause": "7.1.18",
        "feature": "ToObject coercion (Object(value) callable path)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-toobject",
        "testScripts": [
          "Js2IL.Tests/IntrinsicCallables/JavaScript/IntrinsicCallables_Object_Callable_ReturnsObject.js"
        ],
        "notes": "Object(value) callable behavior is implemented minimally; full wrapper object/internal slot fidelity is incomplete."
      },
      {
        "clause": "7.1.19",
        "feature": "ToPropertyKey conversion for computed property access",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-topropertykey",
        "testScripts": [
          "Js2IL.Tests/Object/JavaScript/ObjectLiteral_ComputedKey_Basic.js",
          "Js2IL.Tests/Object/JavaScript/ObjectLiteral_ComputedKey_EvaluationOrder.js"
        ],
        "notes": "Computed keys are normalized to strings, with symbol keys encoded to stable internal IDs rather than full symbol-keyed property semantics."
      },
      {
        "clause": "7.1.20",
        "feature": "ToLength-style coercion in array and typed-array paths",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-tolength",
        "testScripts": [
          "Js2IL.Tests/Array/JavaScript/Array_New_Length.js",
          "Js2IL.Tests/Array/JavaScript/Array_Length_Set_Fractional_ThrowsRangeError.js",
          "Js2IL.Tests/TypedArray/JavaScript/Int32Array_Construct_Length.js"
        ],
        "notes": "Length coercion is implemented in key runtime call sites with truncation/clamping behavior; not centralized as a full standalone abstract operation."
      },
      {
        "clause": "7.1.21",
        "feature": "CanonicalNumericIndexString in indexed access checks",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-canonicalnumericindexstring",
        "testScripts": [
          "Js2IL.Tests/Array/JavaScript/Array_Canonical_Index_StringKeys.js",
          "Js2IL.Tests/TypedArray/JavaScript/Int32Array_Fractional_Index_NoOp.js"
        ],
        "notes": "Canonical decimal index strings are recognized for implemented array/typed-array indexed paths; broader exotic object semantics remain incomplete."
      },
      {
        "clause": "7.1.22",
        "feature": "ToIndex in typed-array indexing paths",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-toindex",
        "testScripts": [
          "Js2IL.Tests/TypedArray/JavaScript/Int32Array_NaN_Index_NoOp.js",
          "Js2IL.Tests/TypedArray/JavaScript/Int32Array_Infinity_Index_NoOp.js",
          "Js2IL.Tests/TypedArray/JavaScript/Int32Array_Index_Assign.js"
        ],
        "notes": "Index coercion handles finite integer indexes and ignores NaN, Infinity, and fractional indexes in the current typed-array implementation."
      }
    ]
  }
}
