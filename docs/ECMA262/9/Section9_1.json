{
  "$schema": "../SectionDoc.schema.json",
  "clause": "9.1",
  "title": "Environment Records",
  "status": "Incomplete",
  "specUrl": "https://tc39.es/ecma262/#sec-environment-records",
  "parent": {
    "clause": "9"
  },
  "autoGeneratedHeader": true,
  "subclauses": [
    {
      "clause": "9.1.1",
      "title": "The Environment Record Type Hierarchy",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-the-environment-record-type-hierarchy"
    },
    {
      "clause": "9.1.1.1",
      "title": "Declarative Environment Records",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records"
    },
    {
      "clause": "9.1.1.1.1",
      "title": "HasBinding ( N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-hasbinding-n"
    },
    {
      "clause": "9.1.1.1.2",
      "title": "CreateMutableBinding ( N , D )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-createmutablebinding-n-d"
    },
    {
      "clause": "9.1.1.1.3",
      "title": "CreateImmutableBinding ( N , S )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-createimmutablebinding-n-s"
    },
    {
      "clause": "9.1.1.1.4",
      "title": "InitializeBinding ( N , V )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-initializebinding-n-v"
    },
    {
      "clause": "9.1.1.1.5",
      "title": "SetMutableBinding ( N , V , S )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-setmutablebinding-n-v-s"
    },
    {
      "clause": "9.1.1.1.6",
      "title": "GetBindingValue ( N , S )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-getbindingvalue-n-s"
    },
    {
      "clause": "9.1.1.1.7",
      "title": "DeleteBinding ( N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-deletebinding-n"
    },
    {
      "clause": "9.1.1.1.8",
      "title": "HasThisBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-hasthisbinding"
    },
    {
      "clause": "9.1.1.1.9",
      "title": "HasSuperBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-hassuperbinding"
    },
    {
      "clause": "9.1.1.1.10",
      "title": "WithBaseObject ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records-withbaseobject"
    },
    {
      "clause": "9.1.1.2",
      "title": "Object Environment Records",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records"
    },
    {
      "clause": "9.1.1.2.1",
      "title": "HasBinding ( N )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-hasbinding-n"
    },
    {
      "clause": "9.1.1.2.2",
      "title": "CreateMutableBinding ( N , D )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-createmutablebinding-n-d"
    },
    {
      "clause": "9.1.1.2.3",
      "title": "CreateImmutableBinding ( N , S )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-createimmutablebinding-n-s"
    },
    {
      "clause": "9.1.1.2.4",
      "title": "InitializeBinding ( N , V )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-initializebinding-n-v"
    },
    {
      "clause": "9.1.1.2.5",
      "title": "SetMutableBinding ( N , V , S )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-setmutablebinding-n-v-s"
    },
    {
      "clause": "9.1.1.2.6",
      "title": "GetBindingValue ( N , S )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-getbindingvalue-n-s"
    },
    {
      "clause": "9.1.1.2.7",
      "title": "DeleteBinding ( N )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-deletebinding-n"
    },
    {
      "clause": "9.1.1.2.8",
      "title": "HasThisBinding ( )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-hasthisbinding"
    },
    {
      "clause": "9.1.1.2.9",
      "title": "HasSuperBinding ( )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-hassuperbinding"
    },
    {
      "clause": "9.1.1.2.10",
      "title": "WithBaseObject ( )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records-withbaseobject"
    },
    {
      "clause": "9.1.1.3",
      "title": "Function Environment Records",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-function-environment-records"
    },
    {
      "clause": "9.1.1.3.1",
      "title": "BindThisValue ( envRec , V )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-bindthisvalue"
    },
    {
      "clause": "9.1.1.3.2",
      "title": "HasThisBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-function-environment-records-hasthisbinding"
    },
    {
      "clause": "9.1.1.3.3",
      "title": "HasSuperBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-function-environment-records-hassuperbinding"
    },
    {
      "clause": "9.1.1.3.4",
      "title": "GetThisBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-function-environment-records-getthisbinding"
    },
    {
      "clause": "9.1.1.3.5",
      "title": "GetSuperBase ( envRec )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-getsuperbase"
    },
    {
      "clause": "9.1.1.4",
      "title": "Global Environment Records",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records"
    },
    {
      "clause": "9.1.1.4.1",
      "title": "HasBinding ( N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-hasbinding-n"
    },
    {
      "clause": "9.1.1.4.2",
      "title": "CreateMutableBinding ( N , D )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-createmutablebinding-n-d"
    },
    {
      "clause": "9.1.1.4.3",
      "title": "CreateImmutableBinding ( N , S )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-createimmutablebinding-n-s"
    },
    {
      "clause": "9.1.1.4.4",
      "title": "InitializeBinding ( N , V )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-initializebinding-n-v"
    },
    {
      "clause": "9.1.1.4.5",
      "title": "SetMutableBinding ( N , V , S )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-setmutablebinding-n-v-s"
    },
    {
      "clause": "9.1.1.4.6",
      "title": "GetBindingValue ( N , S )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-getbindingvalue-n-s"
    },
    {
      "clause": "9.1.1.4.7",
      "title": "DeleteBinding ( N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-deletebinding-n"
    },
    {
      "clause": "9.1.1.4.8",
      "title": "HasThisBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-hasthisbinding"
    },
    {
      "clause": "9.1.1.4.9",
      "title": "HasSuperBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-hassuperbinding"
    },
    {
      "clause": "9.1.1.4.10",
      "title": "WithBaseObject ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-withbaseobject"
    },
    {
      "clause": "9.1.1.4.11",
      "title": "GetThisBinding ( )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records-getthisbinding"
    },
    {
      "clause": "9.1.1.4.12",
      "title": "HasLexicalDeclaration ( envRec , N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-haslexicaldeclaration"
    },
    {
      "clause": "9.1.1.4.13",
      "title": "HasRestrictedGlobalProperty ( envRec , N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-hasrestrictedglobalproperty"
    },
    {
      "clause": "9.1.1.4.14",
      "title": "CanDeclareGlobalVar ( envRec , N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-candeclareglobalvar"
    },
    {
      "clause": "9.1.1.4.15",
      "title": "CanDeclareGlobalFunction ( envRec , N )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-candeclareglobalfunction"
    },
    {
      "clause": "9.1.1.4.16",
      "title": "CreateGlobalVarBinding ( envRec , N , D )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-createglobalvarbinding"
    },
    {
      "clause": "9.1.1.4.17",
      "title": "CreateGlobalFunctionBinding ( envRec , N , V , D )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-createglobalfunctionbinding"
    },
    {
      "clause": "9.1.1.5",
      "title": "Module Environment Records",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-module-environment-records"
    },
    {
      "clause": "9.1.1.5.1",
      "title": "GetBindingValue ( N , S )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-module-environment-records-getbindingvalue-n-s"
    },
    {
      "clause": "9.1.1.5.2",
      "title": "DeleteBinding ( N )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-module-environment-records-deletebinding-n"
    },
    {
      "clause": "9.1.1.5.3",
      "title": "HasThisBinding ( )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-module-environment-records-hasthisbinding"
    },
    {
      "clause": "9.1.1.5.4",
      "title": "GetThisBinding ( )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-module-environment-records-getthisbinding"
    },
    {
      "clause": "9.1.1.5.5",
      "title": "CreateImportBinding ( envRec , N , M , N2 )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-createimportbinding"
    },
    {
      "clause": "9.1.2",
      "title": "Environment Record Operations",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-environment-record-operations"
    },
    {
      "clause": "9.1.2.1",
      "title": "GetIdentifierReference ( env , name , strict )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-getidentifierreference"
    },
    {
      "clause": "9.1.2.2",
      "title": "NewDeclarativeEnvironment ( E )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-newdeclarativeenvironment"
    },
    {
      "clause": "9.1.2.3",
      "title": "NewObjectEnvironment ( O , W , E )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-newobjectenvironment"
    },
    {
      "clause": "9.1.2.4",
      "title": "NewFunctionEnvironment ( F , newTarget )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-newfunctionenvironment"
    },
    {
      "clause": "9.1.2.5",
      "title": "NewGlobalEnvironment ( G , thisValue )",
      "status": "Supported with Limitations",
      "specUrl": "https://tc39.es/ecma262/#sec-newglobalenvironment"
    },
    {
      "clause": "9.1.2.6",
      "title": "NewModuleEnvironment ( E )",
      "status": "Not Yet Supported",
      "specUrl": "https://tc39.es/ecma262/#sec-newmoduleenvironment"
    }
  ],
  "intro": "JS2IL models lexical/function/global environments through compiler-managed scope structures and runtime helpers rather than first-class ECMA-262 Environment Record objects.",
  "support": {
    "entries": [
      {
        "clause": "9.1.1.1",
        "feature": "Declarative Environment Records for lexical bindings",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-declarative-environment-records",
        "testScripts": [
          "Js2IL.Tests/Variable/JavaScript/Variable_LetBlockScope.js",
          "Js2IL.Tests/Variable/JavaScript/Variable_TemporalDeadZoneAccess.js"
        ],
        "notes": "Lexical bindings are modeled by scope bindings and lowered storage operations; exact spec object shapes/invariants are approximated."
      },
      {
        "clause": "9.1.1.2",
        "feature": "Object Environment Records (with-based environments)",
        "status": "Not Yet Supported",
        "specUrl": "https://tc39.es/ecma262/#sec-object-environment-records",
        "testScripts": [
          "Js2IL.Tests/ValidatorTests.cs"
        ],
        "notes": "with statement/object environment semantics are intentionally rejected in validation."
      },
      {
        "clause": "9.1.1.3",
        "feature": "Function Environment Records (this/super/new.target plumbing)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-function-environment-records",
        "testScripts": [
          "Js2IL.Tests/Function/JavaScript/Function_NewTarget_NewVsCall.js",
          "Js2IL.Tests/Function/JavaScript/Function_NewTarget_Arrow_Inherits.js",
          "Js2IL.Tests/Classes/JavaScript/Classes_Inheritance_SuperMethodCall.js"
        ],
        "notes": "RuntimeServices and lowering carry this/new.target/super behavior for supported forms, with subset coverage of exotic function cases."
      },
      {
        "clause": "9.1.1.4",
        "feature": "Global Environment Records (script/CommonJS global bindings)",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-global-environment-records",
        "testScripts": [
          "Js2IL.Tests/CommonJS/JavaScript/CommonJS_FunctionDeclaration_Hoisting_BeforeUse.js",
          "Js2IL.Tests/ValidatorTests.cs"
        ],
        "notes": "Global bindings are modeled in JS2IL global/module scope and GlobalThis runtime object, but ESM/global declarative record distinctions are incomplete."
      },
      {
        "clause": "9.1.1.5",
        "feature": "Module Environment Records",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-module-environment-records",
        "testScripts": [
          "Js2IL.Tests/Import/JavaScript/Import_StaticImport_FromCjs.js",
          "Js2IL.Tests/Import/JavaScript/Import_RequireEsmModule.js"
        ],
        "notes": "Static import/export declarations are supported via lowering to the CommonJS runtime model. Full spec module environment records (including complete live-binding/linking semantics) remain incomplete."
      },
      {
        "clause": "9.1.2.1",
        "feature": "GetIdentifierReference over nested scope chains",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-getidentifierreference",
        "testScripts": [
          "Js2IL.Tests/SymbolTableBuilderTests.cs",
          "Js2IL.Tests/Variable/JavaScript/Variable_LetBlockScope.js"
        ],
        "notes": "Identifier resolution is implemented through symbol table + scope chain planning/lowering for supported syntax."
      },
      {
        "clause": "9.1.2.2",
        "feature": "NewDeclarativeEnvironment behavior in block/function scopes",
        "status": "Supported with Limitations",
        "specUrl": "https://tc39.es/ecma262/#sec-newdeclarativeenvironment",
        "testScripts": [
          "Js2IL.Tests/SymbolTableBuilderTests.cs",
          "Js2IL.Tests/ControlFlow/JavaScript/ControlFlow_ForOf_Let_PerIterationBinding.js"
        ],
        "notes": "Compiler materializes declarative environments as scope instances, including loop-head lexical environments where required."
      }
    ]
  }
}
