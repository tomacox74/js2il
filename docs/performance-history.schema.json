{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Performance History",
  "description": "Schema for JS2IL performance benchmark history",
  "type": "object",
  "properties": {
    "$schema": { "type": "string" },
    "description": { "type": "string" },
    "benchmarks": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "version": { "type": "string", "description": "JS2IL version (e.g., 0.4.1)" },
          "date": { "type": "string", "format": "date", "description": "Benchmark date (YYYY-MM-DD)" },
          "js2il": {
            "type": "object",
            "properties": {
              "passes": { "type": "integer", "description": "Number of sieve passes in 5 seconds" },
              "passesPerSecond": { "type": "number" }
            },
            "required": ["passes"]
          },
          "node": {
            "type": "object",
            "properties": {
              "passes": { "type": "integer" },
              "passesPerSecond": { "type": "number" }
            },
            "required": ["passes"]
          },
          "yantraJS": {
            "type": "object",
            "properties": {
              "passes": { "type": "integer" },
              "passesPerSecond": { "type": "number" }
            },
            "required": ["passes"]
          },
          "jint": {
            "type": "object",
            "properties": {
              "passes": { "type": "integer" },
              "passesPerSecond": { "type": "number" }
            },
            "required": ["passes"]
          },
          "comparisons": {
            "type": "object",
            "properties": {
              "vsYantraJS": { "type": "number", "description": "JS2IL passes / YantraJS passes" },
              "vsJint": { "type": "number", "description": "JS2IL passes / Jint passes" },
              "vsNode": { "type": "number", "description": "Node passes / JS2IL passes (how much faster Node is)" }
            }
          }
        },
        "required": ["version", "date", "js2il"]
      }
    }
  },
  "required": ["benchmarks"]
}
